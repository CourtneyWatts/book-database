(this["webpackJsonpbook-search"]=this["webpackJsonpbook-search"]||[]).push([[0],{29:function(e,a,t){e.exports=t.p+"static/media/Banner.7266cf10.jpg"},37:function(e,a,t){e.exports=t(68)},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),o=t(28),r=t.n(o),c=(t(42),t(43),t(2)),i=t(30),l=t(13),p=t(29),m=t.n(p);t(44);var u=function(){return s.a.createElement(i.a,{fluid:!0,style:{backgroundImage:"url(".concat(m.a,")"),backgroundSize:"cover",backgroundPosition:"center"}},s.a.createElement(l.a,null,s.a.createElement("div",{className:"Header p-4"},s.a.createElement("h1",null,"The Book Database"))))},k=t(31),h=t(32),d=t(9),g=t(36),f=t(35),E=(t(45),function(e){e.id;var a=e.book_pages,t=e.book_publication_year,n=e.book_title;return s.a.createElement("li",{className:"Book d-flex"},s.a.createElement("div",{className:"col"},s.a.createElement("span",{className:"field"},"Title"),s.a.createElement("p",null,n)),s.a.createElement("div",{className:"col-1"},s.a.createElement("span",{className:"field"},"Year"),s.a.createElement("p",null,t)),s.a.createElement("div",{className:"col-1"},s.a.createElement("span",{className:"field"},"pages"),s.a.createElement("p",null,a)))}),b=t(33),v=t.n(b),w=t(8),B=function(e){Object(g.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).state={isLoading:!0,itemsPerPage:100,books:[],pages:null,page:1},n.getBooks=n.getBooks.bind(Object(d.a)(n)),n.goToPage=n.goToPage.bind(Object(d.a)(n)),n.skipBackwardOne=n.skipBackwardOne.bind(Object(d.a)(n)),n.skipBackwardTen=n.skipBackwardTen.bind(Object(d.a)(n)),n.skipForwardOne=n.skipForwardOne.bind(Object(d.a)(n)),n.skipForwardTen=n.skipForwardTen.bind(Object(d.a)(n)),n}return Object(h.a)(t,[{key:"getBooks",value:function(e){var a=this;v.a.post("http://nyx.vima.ekt.gr:3000/api/books",{page:e,itemsPerPage:this.state.itemsPerPage}).then((function(t){a.setState((function(a){return{books:t.data.books,pages:Math.ceil(t.data.count/a.itemsPerPage),isLoading:!1,page:parseInt(e)}}))})).catch((function(e){console.log(e)}))}},{key:"goToPage",value:function(e){var a=e.target.innerText;this.props.history.push("".concat(a)),this.getBooks(a)}},{key:"skipBackwardOne",value:function(){if(!(this.state.page<=1)){var e=parseInt(this.state.page-1);this.props.history.push("".concat(e)),this.getBooks(e)}}},{key:"skipBackwardTen",value:function(){if(!(this.state.page<=1)){var e=this.state.page-10;e=e<=0?1:e,this.props.history.push("".concat(e)),this.getBooks(e)}}},{key:"skipForwardOne",value:function(){if(!(this.state.page>=this.state.pages)){var e=parseInt(this.state.page+1);this.props.history.push("".concat(e)),this.getBooks(e)}}},{key:"skipForwardTen",value:function(){if(!(this.state.page>=this.state.pages)){var e=parseInt(this.state.page+10);console.log(e),e=e>=this.state.pages?this.state.pages:e,this.props.history.push("".concat(e)),this.getBooks(e)}}},{key:"componentDidMount",value:function(){var e=this.props.match.params.num||1;this.getBooks(e)}},{key:"componentDidUpdate",value:function(){console.log("component updated")}},{key:"render",value:function(){var e=this.state.books.map((function(e){return s.a.createElement(E,e)})),a=parseInt(this.props.match.params.num||1),t=a>=5?a-2:1,n=a>=5?a+2:5;n>=this.state.pages&&(t=this.state.pages-4,n=this.state.pages);for(var o=[],r=t;r<=n;r++)o.push(s.a.createElement(w.a.Item,{onClick:r!=a&&this.goToPage,key:r,active:r==a,style:{width:"45px",textAlign:"center"}},r));return this.state.books[0]?s.a.createElement(l.a,null,s.a.createElement(w.a,{className:"justify-content-end mb-5"},s.a.createElement(w.a.First,{onClick:this.skipBackwardTen}),s.a.createElement(w.a.Prev,{onClick:this.skipBackwardOne}),o,s.a.createElement(w.a.Next,{onClick:this.skipForwardOne}),s.a.createElement(w.a.Last,{onClick:this.skipForwardTen})),s.a.createElement("ul",{className:"p-0 mt-5 mb-5 Books"},e),s.a.createElement(w.a,{className:"justify-content-end mb-5"},s.a.createElement(w.a.First,{onClick:this.skipBackwardTen}),s.a.createElement(w.a.Prev,{onClick:this.skipBackwardOne}),o,s.a.createElement(w.a.Next,{onClick:this.skipForwardOne}),s.a.createElement(w.a.Last,{onClick:this.skipForwardTen}))):s.a.createElement(l.a,null)}}]),t}(n.Component);var y=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"small-screen-text d-flex-col text-center p-5"},s.a.createElement("p",null,"Browser window is too small"),s.a.createElement("p",{className:"pt-4"},"Please open on a desktop browser"),s.a.createElement("p",{className:"pt-4"}," ","If you are using a desktop browser, please resize your browser window")),s.a.createElement("div",{className:"database"},s.a.createElement(u,null),s.a.createElement(c.c,null,s.a.createElement(c.a,{exact:!0,path:"/",render:function(e){return s.a.createElement(B,e)}}),s.a.createElement(c.a,{exact:!0,path:"/:num",render:function(e){return s.a.createElement(B,e)}}))))},O=t(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(O.a,null,s.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.230ea996.chunk.js.map